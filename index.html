<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChiKin's portfolio</title>
    <link rel="stylesheet" href="./css/styles.css" />
</head>

<body>
    <header>
        <div id="profile-pic">
            <img src="./image/ChiKin's photo.jpg" alt="ChiKin's photo" />
            <span>ChiKin's Profile</span>
        </div>
        <nav id="menu">
            <label id="menu-btn" for="menu-checkbox">Menu</label> 
            <!--The label is invisible at the full width, when the screen is 1024px wide then it will become the drop down menu.-->
            <input type="checkbox" id="menu-checkbox" />
            <!--This checkbox is linked to the menu label, so that when you click the label, the drop down menu will stay until you click the checkbox again.-->
            <ul id="menu-content">
                <li><a href="#Story">Story</a></li>
                <li><a href="#Work">Work</a></li>
                <li><a href="#Contact">Contact</a></li>
            </ul><!--When it's full width, then the 3 links will be arranged horizontally. At 1024px, the links will be arranged in block in the drop-down menu.-->
        </nav>
    </header>

    <section id="Story">
        <h1 class="section-title">Story</h1>

        <article class="story-card" id="article0">
            <!--There are four story cards, but only one of them appear in one time. You navigate to different cards by clicking on the pagination menu at the bottom right.-->
            <img src="./image/Victoria-Peak-hong-kong.jpg" alt="Harbour view of Hong Kong" />
            <h2 class="article-title">Early day in Hong Kong</h2>
            <p>I am a HongKonger. I lived there for 36 years. Hong Kong was full of opportunities and had the most
                culturally
                diversified lifestyle in the world. I had never though that I might leave HK and live in another
                country. </p>
        </article>

        <article class="story-card" id="article1">
            <img src="./image/With-friends.jpg" alt="Meeting with friends" />
            <h2 class="article-title">Comfort-zone</h2>
            <p>I was an editor for many years in Hong Kong, I loved that job because it gave me a very stable life. When
                I
                was free, I spent the time hanging around with my friends. I did not think that there was a need to
                change.
                Like many HongKongers, I saved money to buy a flat. I enjoyed working like an ant to pay mortgage. I
                thought
                of buying another apartment for letting, which was a typical dream of HongKonger.</p>
        </article>

        <article class="story-card" id="article2">
            <img src="./image/unrest.jpg" alt="Unrest in Hong Kong in 2019" />
            <h2 class="article-title">Unrest</h2>
            <p>Because Hong Kong government wanted to pass a law that most HongKong people worried, millions came
                to the street. As the government refused to back down, the protest later developed into city warfares.
                The
                protest continued until China grabed the Covid as a chance to abolish most freedoms of HongKongers. I
                felt
                that I had to leave Hong Kong as I saw no hopes in my beloved home city.</p>
        </article>

        <article class="story-card" id="article3">
            <img src="./image/Coventry.jpg" alt="My new home in the UK" />
            <h2 class="article-title">Settle</h2>
            <p>I came here in last July. It was difficult to find a job and I worked in a warehouse and now I am a bank
                worker in NHS. Fortunately, there is no racial discrimination which I had feared. I am now taking a
                bootcamp and
                hoped to become a programmer in the future. </p>
        </article>

        <nav id="button-menu"><!--This is the pagination menu.-->
            <button id="prev">Prev</button>
            <!--Go back to the previous card. If it's the first card, then you will go to the last card after clicking.-->
            <div id="pages-select"></div>
            <!--This pages-select will contain buttons 1, 2, 3, 4 to be clicked to link to different cards. The buttons will be generated by the javascript.-->
            <button id="next">Next</button>
            <!--Go to the next card. If it's the last card, then you will go to the first card after clicking.-->
        </nav>
    </section>

    <section id="Work">
        <h1 class="section-title">Work</h1>
        <a class="work-card" id="marketing" style="background-image: url('./image/marketing.jpg');"
            href="https://cckinwest.github.io/refactor-horiseon/">
            <article class="work-card-content">
                <h2 class="article-title">A professional website of a marketing company</h2>
                <div class="skills">
                    <span class="skill">UX Layout</span>
                    <span class="skill">Flexbox</span>
                </div>
            </article>
        </a>

        <a class="work-card" id="blog" style="background-image: url('./image/blog.png');" href="https://medium.com/">
            <article class="work-card-content">
                <h2 class="article-title">Blog</h2>
                <div class="skills">
                    <span class="skill">React</span>
                    <span class="skill">LocalStorage</span>
                </div>
            </article>
        </a>

        <a class="work-card" id="toDoList" style="background-image: url('./image/to-do-list.jpg');"
            href="https://clickup.com/online-to-do-list?utm_campaign=friday_listicles&utm_medium=referral&utm_source=friday&utm_content=to-do-lists&utm_term=">
            <article class="work-card-content">
                <h2 class="article-title">To-Do-List</h2>
                <div class="skills">
                    <span class="skill">React</span>
                </div>
            </article>
        </a>

        <a class="work-card" id="dictionary" style="background-image: url('./image/dictionary.jpg');"
            href="https://cckinwest.github.io/Dictionary/">
            <article class="work-card-content">
                <h2 class="article-title">Dictionary</h2>
                <div class="skills">
                    <span class="skill">API</span>
                    <span class="skill">Form</span>
                </div>
            </article>
        </a>

        <a class="work-card" id="weather" style="background-image: url('./image/weather.jpg');"
            href="https://www.metoffice.gov.uk/">
            <article class="work-card-content">
                <h2 class="article-title">Weather-app</h2>
                <div class="skills">
                    <span class="skill">API</span>
                </div>
            </article>
        </a>
    </section>

    <section id="Contact">
        <h1 class="section-title">Contact</h1>
        <div class="contacts">
            <a href="mailto:example@gmail.com" class="contact">Email</a>
            <!--send email to me-->
            <a href="https://github.com/cckinwest" class="contact">Github</a>
            <!--link to my github-->
        </div>
    </section>

    <script type="text/javascript">
        /*script for the mechanism of the pagination menu*/
        var index = 0;
        /*index is the page number for the story card shown. Default is the first page*/
        var NumOfStories = document.getElementsByClassName("story-card").length;
        /*Count the total number of story cards*/

        window.addEventListener("load", renderPagesButton);
        /*When the page is loaded, it will generate the page buttons according to the number of story cards*/
        document.getElementById("next").addEventListener("click", next);
        document.getElementById("prev").addEventListener("click", prev);

        function renderPagesButton() {
            pagesMenu = document.getElementById("pages-select"); /*get hold of the container of the page buttons*/
            for (var i = 0; i < NumOfStories; i++) {
                /*this for loop is to generate page buttons inside the container according to the number of story cards*/
                var btn = document.createElement("label"); 
                btn.id = `page${i}`;
                btn.className = "pageButton";
                btn.innerHTML = `${i + 1}`

                btn.addEventListener("click", (event) => {
                    document.getElementById(`article${index}`).style.display = "none"; 
                    /*when clicking on the page button, the card currently shown will be hidden.*/
                    var pageNumber = Number(event.target.id.at(-1)); 
                    /*at(-1) get hold of the number at the end of the id.*/ 
                    /*event.target is to hold the element that is clicked*/
                    document.getElementById(`article${pageNumber}`).style.display = "block";
                    /*show the page that is clicked*/
                    index = pageNumber;
                    /*update the value of index*/
                    event.target.style.fontWeight = 900;
                    event.target.style.color = "#ffffff";
                    /*update the style of the pageButton being clicked*/

                    var arr = document.getElementsByClassName("pageButton");
                    for (var k = 0; k < arr.length; k++) {
                        if (k !== index) {
                            document.getElementById(`page${k}`).style.fontWeight = 400;
                            document.getElementById(`page${k}`).style.color = "#000000";
                            /*update the style of the pageButton not being clicked*/
                        }
                    }
                })

                pagesMenu.appendChild(btn)
            }

            document.getElementById("page0").style.fontWeight = 900;
            document.getElementById("page0").style.color = "#ffffff";
            /*initialize page0 as the page shown*/
        }

        function prev() {
            document.getElementById(`article${index}`).style.display = "none";

            if (index === 0) {
                index = 4;
            }
            document.getElementById(`article${index - 1}`).style.display = "block";

            index -= 1;
            index = index % NumOfStories;

            for (var i = 0; i < NumOfStories; i++) {
                document.getElementById(`page${i}`).style.fontWeight = 400;
                document.getElementById(`page${i}`).style.color = "#000000";
            }
            document.getElementById(`page${index}`).style.fontWeight = 900;
            document.getElementById(`page${index}`).style.color = "#ffffff";
        }

        function next() {
            document.getElementById(`article${index}`).style.display = "none";
            document.getElementById(`article${(index + 1) % NumOfStories}`).style.display = "block";

            index += 1;
            index = index % NumOfStories;

            for (var i = 0; i < NumOfStories; i++) {
                document.getElementById(`page${i}`).style.fontWeight = 400;
                document.getElementById(`page${i}`).style.color = "#000000";
            }
            document.getElementById(`page${index}`).style.fontWeight = 900;
            document.getElementById(`page${index}`).style.color = "#ffffff";
        }

    </script>

</body>

</html>